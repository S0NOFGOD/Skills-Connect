<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SkillConnect — Freelancer Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
<style>

*{
margin:0;
padding:0;
box-sizing:border-box;
font-family:'Montserrat',sans-serif;
}

body{
background:#0D1117;
color:#F0F6FC;
display:flex;
justify-content:center;
padding:15px;
min-height:100vh;
}

.container{
width:100%;
max-width:400px;
}

.header{
font-size:22px;
font-weight:700;
margin-bottom:20px;
color:#58A6FF;
}

.card{
background:#161B22;
border-radius:16px;
padding:20px;
box-shadow:0 8px 20px rgba(0,0,0,0.5);
margin-bottom:15px;
}

.profile-img{
width:100px;
height:100px;
border-radius:50%;
object-fit:cover;
margin:auto;
display:block;
margin-bottom:15px;
border:3px solid #30363D;
}

.info{
margin:8px 0;
font-size:14px;
color:#C9D1D9;
}

.label{
color:#58A6FF;
font-weight:600;
}

.btn{
width:100%;
padding:12px;
border:none;
border-radius:10px;
margin-top:10px;
font-weight:600;
cursor:pointer;
}

.edit-btn{
background:#1F6FEB;
color:white;
}

.delete-btn{
background:#DA3633;
color:white;
}

.about-btn{
background:#8957E5;
color:white;
}

.secondary-btn{
background:#238636;
color:white;
}

.popup{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,0.7);
display:none;
justify-content:center;
align-items:center;
padding:15px;
}

.popup-content{
background:#161B22;
padding:20px;
border-radius:16px;
width:100%;
max-width:400px;
}

input, select{
width:100%;
padding:12px;
margin-top:10px;
border-radius:10px;
border:1px solid #30363D;
background:#0D1117;
color:white;
}

.update-btn{
background:#238636;
color:white;
margin-top:15px;
}

.close-btn{
background:#DA3633;
color:white;
margin-top:10px;
}

.small-card{
background:#161B22;
padding:15px;
border-radius:12px;
margin-top:10px;
}

</style>
</head>
<body>

<div class="container">

<div class="header" id="welcomeText">
Welcome
</div>

<div class="card">

<img id="profileImage" class="profile-img" src="">

<div class="info">
<span class="label">Full Name:</span>
<div id="fullName"></div>
</div>

<div class="info">
<span class="label">Phone:</span>
<div id="phone"></div>
</div>

<div class="info">
<span class="label">Email:</span>
<div id="email"></div>
</div>

<div class="info">
<span class="label">Skill:</span>
<div id="skill"></div>
</div>

<div class="info">
<span class="label">Location:</span>
<div id="location"></div>
</div>

</div>

<button class="btn edit-btn" onclick="openEdit()">Edit Account</button>

<button class="btn delete-btn" onclick="deleteAccount()">Delete Account</button>

<button class="btn about-btn" onclick="window.location.href='aboutme.html'">
About Me
</button>

<div class="small-card">
<div class="label">Rating</div>
<div>★★★★★</div>
</div>

<div class="small-card">
<div class="label">Projects</div>
<div>0 Completed</div>
</div>

</div>


<!-- EDIT POPUP -->

<div class="popup" id="editPopup">

<div class="popup-content">

<h3>Edit Account</h3>

<input type="text" id="editName">

<select id="editSkill">

<option value="">Select Skill</option>
<option>Plumbing</option>
<option>Carpentry</option>
<option>Electrician</option>
<option>Haircutting</option>
<option>Cooking</option>
<option>Gardening</option>
<option>Cleaning</option>

</select>

<input type="text" id="editLocation" readonly>

<button class="btn update-btn" onclick="updateAccount()">
Update
</button>

<button class="btn close-btn" onclick="closeEdit()">
Cancel
</button>

</div>

</div>


<script>

// LOAD USER

let currentUser =
JSON.parse(localStorage.getItem("currentFreelancer"));

if(!currentUser){

alert("Please login");

window.location.href="freelancer.html";

}


// DISPLAY USER

document.getElementById("profileImage").src =
currentUser.image || "https://via.placeholder.com/100";

document.getElementById("fullName").innerText =
currentUser.name;

document.getElementById("phone").innerText =
currentUser.phone;

document.getElementById("email").innerText =
currentUser.email;

document.getElementById("skill").innerText =
currentUser.skill;

document.getElementById("location").innerText =
currentUser.location;


// FIRST NAME WELCOME

let firstName =
currentUser.name.split(" ")[0];

document.getElementById("welcomeText").innerText =
"Welcome, " + firstName;


// EDIT POPUP

function openEdit(){

document.getElementById("editPopup").style.display="flex";

document.getElementById("editName").value=currentUser.name;

document.getElementById("editSkill").value=currentUser.skill;

document.getElementById("editLocation").value=currentUser.location;

}

function closeEdit(){

document.getElementById("editPopup").style.display="none";

}


// UPDATE ACCOUNT

function updateAccount(){

let newName =
document.getElementById("editName").value.trim();

let newSkill =
document.getElementById("editSkill").value;

if(!newName || !newSkill){

alert("Fill all fields");

return;

}

let freelancers =
JSON.parse(localStorage.getItem("freelancers")) || [];

let index =
freelancers.findIndex(user => user.email === currentUser.email);

if(index !== -1){

freelancers[index].name=newName;

freelancers[index].skill=newSkill;

localStorage.setItem("freelancers", JSON.stringify(freelancers));

localStorage.setItem("currentFreelancer", JSON.stringify(freelancers[index]));

alert("Updated successfully");

location.reload();

}

}


// DELETE ACCOUNT

function deleteAccount(){

let confirmDelete =
confirm("Are you sure you want to delete your account?");

if(!confirmDelete) return;

let freelancers =
JSON.parse(localStorage.getItem("freelancers")) || [];

freelancers =
freelancers.filter(user => user.email !== currentUser.email);

localStorage.setItem("freelancers", JSON.stringify(freelancers));

localStorage.removeItem("currentFreelancer");

alert("Account deleted");

window.location.href="freelancer.html";

}

</script>

</body>
  </html>
